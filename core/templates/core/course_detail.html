{% extends 'core/quicklink_base.html' %}

{% load django_bootstrap_breadcrumbs %}

{% block breadcrumbs %}
    {{ block.super }}
    {% breadcrumb "Your Courses" "course-list" %}
    {% breadcrumb "Course Details" "course-detail" %}
{% endblock %}

{% block main-content %}
    <div class="ql-content">
        <h1 class="bg-header bg-text">Course Details</h1>
        <section class="card">
            <div class="card-body">
                <header class="card-header">
                    <span class="light-text">{{ course.section }}</span>
                    <h2 class="card-title">{{ course.name }}</h2>
                    {% if course.startDate and course.endDate %}
                        <time class="light-text">{{ course.startDate | date:"M d, Y" }} -
                            {{ course.endDate | date:"M d, Y" }}
                        </time>
                    {% endif %}
                </header>
                <nav class="course-detail-nav">
                    <div>
                        <a href="{% url 'studentsubmission-list' pk=course.pk %}">{% include 'svg/course-details-gradebook.svg' %}View/Edit
                            Gradebook</a>
                        <p>Display all enrolled students and view/edit their assignment grades in one convenient
                            location.</p>
                    </div>
                    <div>
                        <a href="{% url 'coursework-list' pk=course.pk %}">{% include 'svg/course-details-book.svg' %}View/Edit
                            Assignments</a>
                        <p>Display a list of course assignments. Add a new assignment or edit/delete existing
                            assignments.</p>
                    </div>
                    <div>
                        <a href="{% url 'course-roster' pk=course.pk %}">{% include 'svg/course-details-people.svg' %}View/Edit
                            Class Roster</a>
                        <p>View a list of students enrolled in the class. Add or remove students from the class
                            roster.</p>
                    </div>
                    <div>
                        <a class="course-detail-delete" href="{% url 'course-delete' pk=course.pk %}">{% include 'svg/rubbish-bin.svg' %}Delete This
                            Course</a>
                        <p>Delete this course and all associated data.</p>
                    </div>
                </nav>
                <details>
                    <summary class="light-text">Upcoming Assignments</summary>
                    <table class="table table-striped table-hover">
                        <tbody>
                        {% if coursework %}
                            {% for assignment in coursework %}
                                <tr class="generic-row">
                                    <td>{{ assignment.title }}</td>
                                    <td style="text-align: center">
                                        {% if assignment.dueDate %}
                                            {{ assignment.dueDate | date:"M d" }}
                                        {% else %}
                                            No due date
                                        {% endif %}
                                    </td>
                                    <td style="text-align: right">
                                        <a href="{% url 'coursework-detail' pk=course.pk pk2=assignment.pk %}">{% include 'svg/go-arrow.svg' %}</a>
                                    </td>
                                </tr>
                            {% endfor %}
                        {% else %}
                            <tr class="generic-row">
                                <td>No Assignments</td>
                            </tr>
                        {% endif %}
                        </tbody>
                    </table>
                </details>
            </div>
        </section>
    </div>
{% endblock main-content %}
